{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load humanize %}

{% block title %}Genesis | Details{% endblock title %}

{% block content %}

<section class="text-gray-600 body-font">

  <div class="container max-w-full px-2 lg:px-10 py-10 mx-auto flex flex-col">
    <div class="lg:w-11/12 w-full mx-auto">
      <div class="bg-blue-500 rounded-t-lg text-white pl-2 text-xs font-bold py-1 border-b-2 border-white text-white">
        {% if rent.property_category == 'STANDARD' %}
            {{rent.property_category}}
        {% elif rent.property_category == 'FEATURED' %}
            {{rent.property_category}} <i class="text-red-600 fa fa-star"></i>
        {% else %}
            {{rent.property_category}} <i class="text-yellow-400 fa fa-bolt"></i>
        {% endif %}
      </div>
      <div class="h-full overflow-hidden">
        <div class="flex flex-col lg:flex-row">
          <div class="lg:w-2/3 w-full lg:pr-2">
            <div id="image-slider" class="splide">
              <div class="splide__track">
                <ul class="splide__list">
                  {% if rent.photo_main  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_main.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_1  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_1.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_2  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_2.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_3  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_3.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_4  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_4.url}}">
                  </li>            
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>

          <div class="lg:w-1/3 w-full lg:pl-2 h-full sidebar">
            <div id="secondary-slider" class="splide">
              <div class="splide__track">
                <ul class="splide__list opacity-80">
                  {% if rent.photo_main  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_main.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_1  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_1.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_2  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_2.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_3  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_3.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_4  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_4.url}}">
                  </li>
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex flex-col sm:flex-row mt-6">
        <div class="lg:w-2/3 text-center sm:py-4 px-2 sm:pr-4">
          <div class="flex items-center flex-wrap">
            <p class="inline-flex font-bold md:text-2xl text-l text-gray-800 pr-2">
              {{rent.address}}
            </p>
            <p class="inline-flex md:text-base text-xs pt-1">{{rent.city}} | {{rent.postalcode}}</p>
            <div class="inline-flex items-center  ml-auto leading-none">
              <a href="{% url 'properties:rent-detail' rent.id %}#anchor" alt="Calculate your home costs">
                <span class="text-xs text-gray-700 px-2 infline-flex ">
                  <i class="text-blue-600 text-lg fa fa-calculator"></i>
                </span>
              </a>
              <button onclick="fbSharer()" class="transition duration-150 ease-in-out transform hover:scale-125">
                <i class="fa fa-facebook text-lg text-blue-600 px-2"></i>
              </button>
              <button onclick="twitterSharer()" class="transition duration-150 ease-in-out transform hover:scale-125">
                <i class="text-lg fa fa-twitter text-blue-600 px-2"></i>
              </button>
              <a class="transition duration-150 ease-in-out transform hover:scale-125" href="#">
                <i class="fa fa-heart text-lg text-blue-600 px-2"></i>
              </a>
            </div>
          </div>

          <div class="flex items-center flex-wrap mt-4">
            <p class="inline-flex font-bold md:text-2xl text-l text-gray-800 pr-2">
            {% ifequal rent.currency '€' %}
              {{rent.price | intcomma}}{{rent.currency}}
            {% else %}
              {{rent.currency}}{{rent.price | intcomma}}
            {% endifequal %}
            </p>
            <div class="inline-flex items-center  ml-auto leading-none">
              <p class="text-xs font-bold leading-none ml-auto">Published: {{rent.list_date}}</p>
            </div>
          </div>

          <hr class="my-6">

          <div class="flex flex-col text-left justify-center">
            <p class="text-base text-blue-500 text-lg">{% trans 'Letting Details'%}</p>
            <div class="flex justify-between text-xs font-bold">
              <p>{% trans 'Available to let after:'%} {{rent.available_after}}</p>
              <p>{% trans 'Furnished Type:'%} {{rent.furniture}}</p>
            </div>
          </div>

          <hr class="my-6">

          <div class="flex flex-col text-left justify-center">
            <p class="text-base text-blue-500 text-lg">{% trans 'Main features'%}</p>
            <div class="flex justify-between">
              <div><i class="fa fa-circle text-xs"></i>  Type</div>
              <div><i class="fa fa-circle text-xs"></i>  Bedrooms</div>
              <div><i class="fa fa-circle text-xs"></i>  Bathrooms</div>
              <div><i class="fa fa-circle text-xs"></i>  Space</div>
            </div>
          </div>

          <hr class="my-6">

          <div class="flex justify-between divide-x-2 text-blue-500">
            <div><i class="fa fa-home"></i> {% trans 'TYPE'%}<div class="text-center font-bold">{{rent.property_type}}</div></div>
            <div class="pl-4 lg:pl-8"><i class="fa fa-bed"></i> {% trans 'BEDROOMS'%}<div class="text-center font-bold">{{rent.bedrooms}}</div></div>
            <div class="pl-4 lg:pl-8"><i class="fa fa-bath"></i> {% trans 'BATHROOMS'%}<div class="text-center font-bold">{{rent.bathrooms|floatformat:'0'}}</div></div>
            <div class="pl-4 lg:pl-8"><i class="fa fa-th-large"></i> {% trans 'SPACE'%}<div class="text-center font-bold">{{rent.m2}}m²</div></div>
          </div>

          <hr class="my-6">

          <div class="flex flex-col text-left justify-center">
            <p class="text-base text-blue-500 text-lg">{% trans 'Description'%}</p>
            <p class="text-base text-blue-500">{{rent.description|linebreaks}}</p>
          </div>  
          <div class="w-full lg:mb-0 mt-6 lg:h-10 h-40 rent-detail-map mt-10" id="map{{rent.id}}"></div> 
        </div>
        <div class="lg:w-1/3 sm:pl-4 sm:py-4 border-gray-200 sm:border-t-0 border-t mt-4 pt-4 sm:mt-0 text-center sm:text-left sidebar">
          <div class="p-4 shadow-md">
            <div class="flex items-center flex-wrap my-4">
              <p class="text-sm inline-flex">{{rent.realtor}}</p>
              <a class="inline-flex items-center  ml-auto leading-none">
                <img alt="blog" src="https://dummyimage.com/103x103" class="w-20 h-12 flex-shrink-0 object-cover object-center">
                <span class="flex-grow flex flex-col pl-4">
                  <span class="title-font font-medium text-gray-900">{{rent.realtor}}</span>
                  <span class="text-gray-400 text-xs tracking-widest mt-0.5">{% trans 'AGENCY'%}</span>
                </span>
              </a>
            </div>
            <p class="leading-relaxed text-sm mb-4">{{rent.agency_description}}</p>
            <a class="text-blue-500 inline-flex items-center">{% trans 'Learn More'%}
              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-2" viewBox="0 0 24 24">
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>        
      </div>
    </div>
  </div>
</section>
{% include "properties/scripts/properties_rent_splide_script.html" %}
{% include "properties/scripts/properties_rent_map_script.html" %}
{% endblock content %}