{% extends "base.html" %}
{% load static %}
{% load i18n %}
{% load humanize %}

{% block title %}Genesis | Details{% endblock title %}

{% block content %}

<section class="text-gray-600 body-font">

  <div class="container max-w-full px-4 lg:px-10 py-10 mx-auto flex flex-col">
    <div class="lg:w-11/12 w-full mx-auto">
      <div class="bg-blue-500 rounded-t-lg text-white pl-2 text-xs font-bold py-1 border-b-2 border-white text-white">
        {% if rent.property_category == 'STANDARD' %}
            {{rent.property_category}}
        {% elif rent.property_category == 'FEATURED' %}
            {{rent.property_category}} <i class="text-red-600 fa fa-star"></i>
        {% else %}
            {{rent.property_category}} <i class="text-yellow-400 fa fa-bolt"></i>
        {% endif %}
      </div>
      <div class="h-full overflow-hidden">
        <div class="flex flex-col lg:flex-row">
          <div class="lg:w-2/3 w-full lg:pr-2">
            <div id="image-slider" class="splide">
              <div class="splide__track">
                <ul class="splide__list">
                  {% if rent.photo_main  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_main.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_1  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_1.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_2  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_2.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_3  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_3.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_4  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" src="{{rent.photo_4.url}}">
                  </li>            
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>

          <div class="lg:w-1/3 w-full lg:pl-2 h-full sidebar">
            <div id="secondary-slider" class="splide">
              <div class="splide__track">
                <ul class="splide__list opacity-80">
                  {% if rent.photo_main  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_main.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_1  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_1.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_2  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_2.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_3  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_3.url}}">
                  </li>
                  {% endif %}
                  {% if rent.photo_4  %}
                  <li class="splide__slide">
                    <img class="object-cover object-center" data-splide-lazy="{{rent.photo_4.url}}">
                  </li>
                  {% endif %}
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="flex flex-col sm:flex-row mt-6 overflow-hidden">
        <div class="lg:w-2/3 text-center sm:py-4 px-6 bg-gray-50 pb-4 rounded-md">
          <div class="flex items-center flex-wrap">
            <p class="inline-flex font-bold md:text-2xl text-l text-gray-800 pr-2">
              {{rent.address}}
            </p>
            <p class="inline-flex md:text-base text-xs pt-1">{{rent.city}} | {{rent.postalcode}}</p>
            <div class="inline-flex items-center  ml-auto leading-none">
              <a href="{% url 'properties:rent-detail' rent.id %}#anchor" alt="Calculate your home costs">
                <span class="text-xs text-gray-700 px-2 infline-flex ">
                  <i class="text-blue-600 sm:text-lg text-sm fa fa-calculator"></i>
                </span>
              </a>
              <button onclick="fbSharer()" class="transition duration-150 ease-in-out transform hover:scale-125">
                <i class="fa fa-facebook sm:text-lg text-sm text-blue-600 px-2"></i>
              </button>
              <button onclick="twitterSharer()" class="transition duration-150 ease-in-out transform hover:scale-125">
                <i class="sm:text-lg text-sm fa fa-twitter text-blue-600 px-2"></i>
              </button>
              <a class="transition duration-150 ease-in-out transform hover:scale-125" href="#">
                <i class="fa fa-heart sm:text-lg text-sm text-blue-600 px-2"></i>
              </a>
            </div>
          </div>

          <div class="flex items-center flex-wrap py-2">
            <p class="inline-flex font-bold md:text-2xl text-l text-gray-800 pr-2">
            {% ifequal rent.currency '€' %}
              {{rent.price | intcomma}}{{rent.currency}}
            {% else %}
              {{rent.currency}}{{rent.price | intcomma}}
            {% endifequal %}
            </p>
            <div class="inline-flex items-center  ml-auto leading-none">
              <p class="text-xs font-bold leading-none ml-auto">Published: {{rent.list_date}}</p>
            </div>
          </div>

          <div class="flex flex-col text-left justify-center py-2">
            <p class="text-base tracking-widest text-blue-700 py-2">{% trans 'LETTING DETAILS'%}</p>
            <div class="flex justify-between text-xs font-bold">
              <p>{% trans 'Available to let after:'%} {{rent.available_after}}</p>
              <p>{% trans 'Furnished Type:'%} {{rent.furniture}}</p>
            </div>
          </div>

          <div class="flex flex-col text-left justify-center py-2">
            <p class="text-base tracking-widest text-blue-700 py-2">{% trans 'MAIN FEATURES'%}</p>
            <div class="flex justify-between sm:text-sm text-xs">
              <div><i class="fa fa-caret-right"></i>  Type</div>
              <div><i class="fa fa-caret-right"></i>  Bedrooms</div>
              <div><i class="fa fa-caret-right"></i>  Bathrooms</div>
              <div><i class="fa fa-caret-right"></i>  Space</div>
            </div>
            <div class="flex justify-between sm:text-sm text-xs">
              <div><i class="fa fa-caret-right"></i>  Type</div>
              <div><i class="fa fa-caret-right"></i>  Bedrooms</div>
              <div><i class="fa fa-caret-right"></i>  Bathrooms</div>
              <div><i class="fa fa-caret-right"></i>  Space</div>
            </div>
          </div>

          <div class="flex flex-col text-left justify-center py-2 sm:text-sm text-xs">
            <p class="text-base tracking-widest text-blue-700 py-2">{% trans 'SPECIFICATIONS'%}</p>
            <div class="flex justify-between divide-x-2 text-gray-600">
              <div><i class="fa fa-home"></i> {% trans 'Type'%}<div class=" font-bold">{{rent.property_type}}</div></div>
              <div class="pl-4 lg:pl-8"><i class="fa fa-bed"></i> {% trans 'Bedrooms'%}<div class=" font-bold">{{rent.bedrooms}}</div></div>
              <div class="pl-4 lg:pl-8"><i class="fa fa-bath"></i> {% trans 'Bathrooms'%}<div class="font-bold">{{rent.bathrooms|floatformat:'0'}}</div></div>
              <div class="pl-4 lg:pl-8"><i class="fa fa-th-large"></i> {% trans 'Space'%}<div class="font-bold">{{rent.m2}}m²</div></div>
            </div>
          </div>

          <div class="flex flex-col text-left justify-center overflow-hidden py-2">
            <p class="text-base tracking-widest text-blue-700">{% trans 'DESCRIPTION'%}</p>
            <p class="text-sm">{{rent.description|linebreaksbr}}</p>
          </div>
        </div>
        <div class="lg:w-1/3 px-4 sm:pl-4 sm:pr-0 text-center sm:text-left rounded">
          <p class="text-base text-left tracking-widest text-blue-700 py-2">{% trans 'MAP'%}</p>
          <div class="w-full sm:mb-8 lg:h-10 h-40 rent-detail-map rounded-md" id="map{{rent.id}}"></div> 
          <div class="p-4 shadow-xl sidebar bg-white">
            <p class="text-base text-left tracking-widest text-blue-700 py-2">{% trans 'AGENCY'%}</p>
            <div class="flex items-center flex-wrap my-4">
              <a class="inline-flex items-center">
                {% if rent.organisation.organisation_logo %}
                <img alt="blog" src="{{rent.organisation.organisation_logo.url}}" class="w-20 h-12 flex-shrink-0 object-cover object-center">
                {% endif %}
                <span class="flex-grow flex flex-col pl-4">
                  <span class="title-font font-medium text-gray-900">{{rent.organisation}}</span>
                  <span class="text-gray-400 text-xs tracking-widest mt-0.5">{% trans 'AGENCY'%}</span>
                </span>
              </a>
            </div>
            <p class="leading-relaxed text-sm mb-4 overflow-hidden">{{rent.organisation.organisation_description}}</p>
            <a class="text-blue-500 inline-flex items-center">{% trans 'Learn More'%}
              <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-4 h-4 ml-2" viewBox="0 0 24 24">
                <path d="M5 12h14M12 5l7 7-7 7"></path>
              </svg>
            </a>
          </div>
        </div>        
      </div>
    </div>
  </div>
</section>
{% include "properties/scripts/properties_rent_splide_script.html" %}
{% include "properties/scripts/properties_rent_map_script.html" %}
{% endblock content %}